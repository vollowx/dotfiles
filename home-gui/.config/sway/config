### Variables

set $primary #b1d18a
set $surface_tint #b1d18a
set $on_primary #1f3701
set $primary_container #354e16
set $on_primary_container #cdeda3
set $secondary #bfcbad
set $on_secondary #2a331e
set $secondary_container #404a33
set $on_secondary_container #dce7c8
set $tertiary #a0d0cb
set $on_tertiary #003735
set $tertiary_container #1f4e4b
set $on_tertiary_container #bcece7
set $error #ffb4ab
set $on_error #690005
set $error_container #93000a
set $on_error_container #ffdad6
set $background #12140e
set $on_background #e2e3d8
set $surface #12140e
set $on_surface #e2e3d8
set $surface_variant #44483d
set $on_surface_variant #c5c8ba
set $outline #8f9285
set $outline_variant #44483d
set $shadow #000000
set $scrim #000000
set $inverse_surface #e2e3d8
set $inverse_on_surface #2f312a
set $inverse_primary #4c662b
set $primary_fixed #cdeda3
set $on_primary_fixed #102000
set $primary_fixed_dim #b1d18a
set $on_primary_fixed_variant #354e16
set $secondary_fixed #dce7c8
set $on_secondary_fixed #151e0b
set $secondary_fixed_dim #bfcbad
set $on_secondary_fixed_variant #404a33
set $tertiary_fixed #bcece7
set $on_tertiary_fixed #00201e
set $tertiary_fixed_dim #a0d0cb
set $on_tertiary_fixed_variant #1f4e4b
set $surface_dim #12140e
set $surface_bright #383a32
set $surface_container_lowest #0c0f09
set $surface_container_low #1a1c16
set $surface_container #1e201a
set $surface_container_high #282b24
set $surface_container_highest #33362e
set $warning_color #d9c76f
set $warning_on_color #393000
set $warning_color_container #524700
set $warning_on_color_container #f6e388
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $shot_path ~/Pictures/Screenshots/Sway_$(date +'%Y%m%d_%Hh%Mm%Ss.png')

### Core

output * bg ~/Pictures/wallpaper fill
output eDP-1 resolution 1920x1080 position 0 0 scale 1.00
output "ASUSTek COMPUTER INC VG27AQL3A SCLMQS065012" mode 2560x1440@180Hz position 0 0 adaptive_sync off

input type:keyboard {
  xkb_layout us
  xkb_options caps:escape
  repeat_delay 300
  repeat_rate 30
}

input type:pointer {
  dwt disabled
  dwtp disabled
}

input type:touchpad {
  dwt disabled
  dwtp disabled
  tap enabled
  natural_scroll enabled
  middle_emulation enabled
}

seat * hide_cursor 10000
seat * hide_cursor when-typing enable
seat * xcursor_theme macOS 24

for_window [window_role="pop-up"]                           floating enable
for_window [window_role="bubble"]                           floating enable
for_window [window_role="dialog"]                           floating enable
for_window [window_type="dialog"]                           floating enable
for_window [shell="xwayland"]                               title_format "%title [XWayland]"
# for_window [app_id=$term_id]                                floating enable, move to scratchpad, scratchpad show
for_window [app_id="^launcher$"]                            floating enable, sticky enable, resize set 100 ppt 20 ppt, move position 0 80 ppt
for_window [app_id="blueman-manager"]                       floating enable
for_window [app_id="qutebrowser"]                           inhibit_idle fullscreen
for_window [class="discord"]                                floating enable
for_window [class="QQ"]                                     floating enable
for_window [class="Pinentry-gtk"]                           floating enable

for_window [class="steam" title="Friends List"]             floating enable, resize set 320 800, move position 100 ppt 0, move left 332, move down 100
for_window [class="steam" title="Game Servers"]             floating enable
for_window [class="steam" title="Players"]                  floating enable
for_window [class="steam" title="Recordings & Screenshots"] floating enable
for_window [class="steam" title="Steam Settings"]           floating enable
for_window [class="steam_app_244210"]                       floating enable

#                       titlebar border    titlebar                   titlebar text         overlay            border
client.focused          $primary           $primary_container         $on_primary_container $primary_container $primary
client.focused_inactive $secondary         $surface_container_lowest  $on_background        $primary_container $secondary
client.unfocused        $outline_variant   $surface_container_lowest  $on_background        $primary_container $outline_variant
client.urgent           $warning_color     $on_background             $warning_color        $primary_container $warning_color
client.placeholder      $surface_container $background                $on_background        $primary_container $outline_variant
client.background       $background

font pango:monospace 8
default_border pixel 1
default_floating_border pixel 1
for_window [class=".*"]  border pixel 1
for_window [app_id=".*"] border pixel 1
# Clients who want to draw their own CSD doesn't follow this when floating

gaps inner 16

exec_always {
  systemctl --user import-environment SWAYSOCK WAYLAND_DISPLAY
  hash dbus-update-activation-environment 2>/dev/null
  dbus-update-activation-environment --systemd SWAYSOCK WAYLAND_DISPLAY 2>/dev/null
}

exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

exec swayidle -w before-sleep 'swaylock'
exec wp-swayidle 3 -- timeout 900 'swaylock' \
                      timeout 1800 'swaymsg "output * power off"' \
                      resume 'swaymsg "output * power on"'

exec {
  wl-paste --watch cliphist store
  blueman-applet
  fcitx5 -d
  dunst
}

bar {
  swaybar_command waybar
  mode dock
  modifier Mod4
  position bottom
}

### Key bindings

bindsym $mod+d exec dmenu-app
bindsym $mod+q exec dmenu-power
bindsym $mod+i exec dmenu-iwd
bindsym $mod+b exec dmenu-bluetooth
bindsym $mod+v exec dmenu-clipboard
bindsym $mod+w exec dmenu-wallpaper
bindsym $mod+o exec dmenu-wireplumber

floating_modifier $mod normal
bindsym $mod+Return exec $TERMINAL
bindsym $mod+Shift+q kill
bindsym $mod+Shift+c exec swaymsg reload && notify-send -r 667 -t 1000 Sway 'Configuration reloaded'
bindsym $mod+Delete exec swaylock

bindsym $mod+Space exec fcitx5-remote -t && notify-send -r 668 -t 1000 "IME" $(fcitx5-remote -n)

bindsym $mod+p exec grimshot savecopy screen $shot_path
bindsym $mod+Shift+p exec grimshot savecopy anything $shot_path

bindsym $mod+z exec dunstctl history-pop
bindsym $mod+x exec dunstctl close
bindsym $mod+Shift+x exec dunstctl close-all
bindsym $mod+c exec dunstctl context

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+Grave workspace number 0
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+Shift+Grave move container to workspace number 0
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5

bindsym $mod+n splith
bindsym $mod+m splitv

bindsym $mod+t layout tabbed
bindsym $mod+s layout toggle split

bindsym $mod+e fullscreen

bindsym $mod+f floating toggle
bindsym $mod+Shift+f focus mode_toggle

bindsym $mod+a focus parent

bindsym $mod+Shift+Minus move scratchpad
bindsym $mod+Minus scratchpad show

mode "resize" {
  bindsym $left resize shrink width 10px
  bindsym $down resize grow height 10px
  bindsym $up resize shrink height 10px
  bindsym $right resize grow width 10px
  bindsym Left resize shrink width 10px
  bindsym Down resize grow height 10px
  bindsym Up resize shrink height 10px
  bindsym Right resize grow width 10px

  bindsym Return mode "default"
  bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Useful for virtual machines and some games
mode "focus" {
  bindsym Super+Shift+Delete mode "default"
}
bindsym $mod+Shift+Delete mode "passthrough"

###

include /etc/sway/config.d/*
